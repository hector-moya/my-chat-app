<div class="h-screen flex flex-col">
  <!-- Header Section -->
  <div class="bg-gray-800 text-white px-5 py-5 flex justify-between items-center border-b-2">
    <!-- Welcome Message and User Info -->
    <div class="font-semibold text-2xl">My Chat App</div>
    <div class="w-1/2">
    </div>

    <button id="dropdownInformationButton" data-dropdown-toggle="dropdownInformation"
      class="text-white focus:ring-4 focus:outline-none font-medium rounded-full text-sm px-4 py-2.5 text-center inline-flex items-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800" type="button"
      (click)="showMenu = !showMenu">
      {{ currentUser.userName.charAt(0) }}
    </button>
    <div id="dropdownInformation" [ngClass]="{'hidden': !showMenu}"
      class="z-10 hidden divide-y rounded-lg shadow w-44 bg-gray-700 divide-gray-600">
      <div class="px-4 py-3 text-sm text-white">
        <p class="text-md">{{ currentUser.userName }}</p>
        <p class="text-sm italic">{{ currentUser.email}}</p>
      </div>
      <ul class="py-2 text-sm text-gray-200" aria-labelledby="dropdownInformationButton">
        <li>
          <app-user-management *ngIf="currentUser.isSuper"></app-user-management>
        </li>
        <li>
          <button *ngIf="currentUser.isSuper" (click)="showAddUserForm()" class="text-left w-full block px-4 py-2 hover:bg-gray-600 hover:text-white">Add User</button>
        </li>
        <li>
          <button *ngIf="authenticationService.isLoggedIn" (click)="logout()" class="text-left w-full block px-4 py-2 text-sm hover:bg-gray-600 text-gray-200 hover:text-white">Logout</button>
        </li>
      </ul>
    </div>
  </div>

  <!-- Main Content Section -->
  <div class="flex flex-1">
    <!-- Groups and Channels -->
    <div class="bg-gray-900 text-white w-1/5 p-4 overflow-y-auto">
      <!-- Groups Component-->
      <app-group (channelSelected)="onChannelSelected($event)"></app-group>
    </div>

    <!-- Chat Section -->
    <div class="bg-gray-700 text-white w-4/5 p-4">
      <ng-container *ngIf="currentChannelId; else noChannelSelected">
        <app-chat [currentChannelId]="currentChannelId"></app-chat>
      </ng-container>

      <ng-template #noChannelSelected>
        <div class="select-channel-message">
          Please select a channel to start chatting.
        </div>
      </ng-template>
    </div>
  </div>
</div>
<!-- Add User Modal -->
<div *ngIf="showAddUserModal" class="fixed inset-0 flex items-center justify-center z-50">
  <div class="bg-white p-8 rounded-lg w-1/3">
    <h2 class="text-2xl mb-4">Add New User</h2>
    <button (click)="showAddUserModal = false" class="text-red-500 mb-4">Close</button>
    <app-register (userRegistered)="showAddUserModal = false"></app-register> <!-- Embed the registration component -->
  </div>
</div>